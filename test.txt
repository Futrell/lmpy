from lm import LanguageModel
l = LanguageModel(order=2)
l.add_text("The unpurged images of day recede;")
l.add_text("The Emperor's drunken soldiery are abed;")
l.add_text("Night resonance recedes, night-walkers' song")
l.add_text("After great cathedral gong;")
l.add_text("A starlit or a moonlit dome disdains")
l.add_text("All that man is,")
l.add_text("All mere complexities,")
l.add_text("The fury and the mire of human veins.")
l.add_text("Before me floats an image, man or shade,")
l.add_text("Shade more than man, more image than a shade;")
l.add_text("For Hades' bobbin bound in mummy-cloth")
l.add_text("May unwind the winding path;")
l.add_text("A mouth that has no moisture and no breath")
l.add_text("Breathless mouths may summon;")
l.add_text("I hail the superhuman;")
l.add_text("I call it death-in-life and life-in-death.")
l.add_text("Miracle, bird or golden handiwork,")
l.add_text("More miracle than bird or handiwork,")
l.add_text("Planted on the starlit golden bough,")
l.add_text("Can like the cocks of Hades crow,")
l.add_text("Or, by the moon embittered, scorn aloud")
l.add_text("In glory of changeless metal")
l.add_text("Common bird or petal")
l.add_text("And all complexities of mire or blood.")
l.add_text("At midnight on the Emperor's pavement flit")
l.add_text("Flames that no faggot feeds, nor steel has lit,")
l.add_text("Nor storm disturbs, flames begotten of flame,")
l.add_text("Where blood-begotten spirits come")
l.add_text("And all complexities of fury leave,")
l.add_text("Dying into a dance,")
l.add_text("An agony of trance,")
l.add_text("An agony of flame that cannot singe a sleeve.")
l.add_text("Astraddle on the dolphin's mire and blood,")
l.add_text("Spirit after spirit! The smithies break the flood,")
l.add_text("The golden smithies of the Emperor!")
l.add_text("Marbles of the dancing floor")
l.add_text("Break bitter furies of complexity,")
l.add_text("Those images that yet")
l.add_text("Fresh images beget,")
l.add_text("That dolphin-torn, that gong-tormented sea.")
l.add_text("That is no country for old men. The young")
l.add_text("In one another's arms, birds in the trees")
l.add_text("— Those dying generations — at their song,")
l.add_text("The salmon-falls, the mackerel-crowded seas,")
l.add_text("Fish, flesh, or fowl, commend all summer long")
l.add_text("Whatever is begotten, born, and dies.")
l.add_text("Caught in that sensual music all neglect")
l.add_text("Monuments of unageing intellect.")
l.add_text("An aged man is but a paltry thing,")
l.add_text("A tattered coat upon a stick, unless")
l.add_text("Soul clap its hands and sing, and louder sing")
l.add_text("For every tatter in its mortal dress,")
l.add_text("Nor is there singing school but studying")
l.add_text("Monuments of its own magnificence;")
l.add_text("And therefore I have sailed the seas and come")
l.add_text("To the holy city of Byzantium.")
l.add_text("O sages standing in God's holy fire")
l.add_text("As in the gold mosaic of a wall,")
l.add_text("Come from the holy fire, perne in a gyre,")
l.add_text("And be the singing-masters of my soul.")
l.add_text("Consume my heart away; sick with desire")
l.add_text("And fastened to a dying animal")
l.add_text("It knows not what it is; and gather me")
l.add_text("Into the artifice of eternity.")
l.add_text("Once out of nature I shall never take")
l.add_text(" bodily form from any natural thing,")
l.add_text("But such a form as Grecian goldsmiths make")
l.add_text("Of hammered gold and gold enameling")
l.add_text("To keep a drowsy Emperor awake;")
l.add_text("Or set upon a golden bough to sing")
l.add_text("To lords and ladies of Byzantium")
l.add_text("Of what is past, or passing, or to come.")
from similarity import DistribSim
from weighting import *
import cPickle
ds = DistribSim(cPickle.load(open('ctx')),vocab=l.get_vocab())
from probest import *
l.generate_string(smoothing=SimilaritySmoothing(sim=ds))
